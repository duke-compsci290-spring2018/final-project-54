webpackJsonp([1],{"7zck":function(t,e){},NHnr:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=s("7+uW"),o={data:function(){return{}},computed:{menuItems:function(){var t=[{icon:"lock_open",title:"Sign In",link:"/signin"},{icon:"face",title:"Sign Up",link:"/signup"}];return this.userIsAuthenticated&&(t=[{icon:"trending_up",title:"Visualizations",link:"/profile"}]),t},userIsAuthenticated:function(){return null!==this.$store.getters.user&&void 0!==this.$store.getters.user}},methods:{onLogout:function(){console.log("logging out"),this.$store.dispatch("logout")}},name:"App"},a={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("v-app",{attrs:{dark:""}},[s("v-toolbar",[s("v-toolbar-title",[s("router-link",{staticStyle:{cursor:"pointer"},attrs:{to:"/",tag:"span"}},[t._v("Media Bias-O-Meter")])],1),t._v(" "),s("v-spacer"),t._v(" "),t._l(t.menuItems,function(e){return s("v-btn",{key:e.title,attrs:{flat:"",to:e.link}},[s("v-icon",{attrs:{left:""}},[t._v(t._s(e.icon))]),t._v("\n      "+t._s(e.title)+"\n    ")],1)}),t._v(" "),t.userIsAuthenticated?s("v-btn",{attrs:{flat:""},on:{click:t.onLogout}},[s("v-icon",{attrs:{left:"",dark:""}},[t._v("exit_to_app")]),t._v("\n        Logout\n      ")],1):t._e()],2),t._v(" "),s("main",[s("router-view")],1)],1)},staticRenderFns:[]},r=s("VU/8")(o,a,!1,null,null,null).exports,n=s("/ocq"),l=s("woOf"),h=s.n(l),u={data:function(){return{dialog:!1,headers:[{text:"Newspaper",align:"left",sortable:!1,value:"name"},{text:"Bias",sortable:!1},{text:"What do you think?",sortable:!1},{text:"Feedback",sortable:!1},{text:"Actions",sortable:!1}],editedIndex:-1,editedItem:{name:"",url:"",votesLib:0,votesModLib:0,votesCentrist:0,votesModRep:0,votesRep:0,topVote:0,biasTowards:"",thumbsUp:0,thumbsDown:0,index:0}}},computed:{formTitle:function(){return-1===this.editedIndex?"New Item":"Edit Item"},user:function(){return this.$store.getters.user},items:function(){if(null==this.user)return this.$store.getters.loadedNewspapers;for(var t=Array(this.$store.getters.loadedNewspapers.length).fill(""),e=Array(this.$store.getters.loadedNewspapers.length).fill(""),s=0;s<t.length;s++)""!==this.user.lastThumb[s]&&(t[s]=this.user.lastThumb[s]),void 0==t[s]&&(t[s]="");for(s=0;s<e.length;s++)""!==this.user.lastVote[s]&&(e[s]=this.user.lastVote[s]),void 0==e[s]&&(e[s]="");return this.user.lastThumb=t,this.user.lastVote=e,console.log("source added"),this.$store.getters.loadedNewspapers}},watch:{dialog:function(t){t||this.close()}},created:function(){this.initialize()},methods:{initialize:function(){this.items=[]},editItem:function(t){this.editedIndex=this.items.indexOf(t),this.editedItem=h()({},t),this.dialog=!0},deleteItem:function(t){var e=this.items.indexOf(t);confirm("Are you sure you want to delete this item?")&&this.items.splice(e,1);for(var s=0;s<this.items.length;s++)this.items[s].index=s},close:function(){var t=this;this.dialog=!1,setTimeout(function(){t.editedItem=h()({},t.defaultItem),t.editedIndex=-1},300)},save:function(){if(this.editedIndex>-1)h()(this.items[this.editedIndex],this.editedItem),this.$store.dispatch("updateNewspaper",this.editedItem),console.log("Edited index: "+this.editedIndex),console.log("Actual index: "+this.editedItem.index);else{var t;for(t=0;t<this.items.length;t++)this.items[t].index=t;var e=t,s={creatorID:this.$store.getters.user.id,name:"",url:"",votesLib:0,votesModLib:0,votesCentrist:0,votesModRep:0,votesRep:0,topVote:0,biasTowards:"",thumbsUp:0,thumbsDown:0,index:0};s.index=e,s.name=this.editedItem.name,s.url=this.editedItem.url,this.$store.dispatch("addNewspaper",s)}this.close()},userIsCreator:function(t){var e=this.items.indexOf(t);return this.$store.getters.user.id==this.items[e].creatorID},thumbUp:function(t){var e=this.items.indexOf(t);if(""==this.user.lastThumb[e]){this.items[e].thumbsUp++,this.user.lastThumb[e]="up",console.log(this.user.lastThumb);var s=this.items[e];this.$store.dispatch("updateNewspaper",s),this.$store.dispatch("updateUserThumbs",this.user.lastThumb)}else if("down"==this.user.lastThumb[e]){this.items[e].thumbsUp++,this.items[e].thumbsDown--,this.user.lastThumb[e]="up",console.log(this.user.lastThumb);var i=this.items[e];this.$store.dispatch("updateNewspaper",i),this.$store.dispatch("updateUserThumbs",this.user.lastThumb)}else console.log("Spam prevention")},thumbDown:function(t){var e=this.items.indexOf(t);if(""==this.user.lastThumb[e]){this.items[e].thumbsDown++,this.user.lastThumb[e]="down",console.log(this.user.lastThumb);var s=this.items[e];this.$store.dispatch("updateNewspaper",s),this.$store.dispatch("updateUserThumbs",this.user.lastThumb)}else if("up"==this.user.lastThumb[e]){this.items[e].thumbsUp--,this.items[e].thumbsDown++,this.user.lastThumb[e]="down",console.log(this.user.lastThumb);var i=this.items[e];this.$store.dispatch("updateNewspaper",i),this.$store.dispatch("updateUserThumbs",this.user.lastThumb)}else console.log("Spam prevention")},voteLib:function(t){var e=this.items.indexOf(t);if(""==this.user.lastVote[e]){this.items[e].votesLib++,this.user.lastVote[e]="lib";var s=this.items[e];this.$store.dispatch("updateNewspaper",s),this.$store.dispatch("updateUserVotes",this.user.lastVote)}else if("modLib"==this.user.lastVote[e]){this.items[e].votesLib++,this.items[e].votesModLib--,this.user.lastVote[e]="lib","Moderate Liberal"==this.items[e].biasTowards&&this.items[e].topVote--;var i=this.items[e];this.$store.dispatch("updateNewspaper",i),this.$store.dispatch("updateUserVotes",this.user.lastVote)}else if("Centrist"==this.user.lastVote[e]){this.items[e].votesLib++,this.items[e].votesCentrist--,this.user.lastVote[e]="lib","Centrist"==this.items[e].biasTowards&&this.items[e].topVote--;var o=this.items[e];this.$store.dispatch("updateNewspaper",o),this.$store.dispatch("updateUserVotes",this.user.lastVote)}else if("modRep"==this.user.lastVote[e]){this.items[e].votesLib++,this.items[e].votesModRep--,this.user.lastVote[e]="lib","Moderate Republican"==this.items[e].biasTowards&&this.items[e].topVote--;var a=this.items[e];this.$store.dispatch("updateNewspaper",a),this.$store.dispatch("updateUserVotes",this.user.lastVote)}else if("rep"==this.user.lastVote[e]){this.items[e].votesLib++,this.items[e].votesRep--,this.user.lastVote[e]="lib","Republican"==this.items[e].biasTowards&&this.items[e].topVote--;var r=this.items[e];this.$store.dispatch("updateNewspaper",r),this.$store.dispatch("updateUserVotes",this.user.lastVote)}else console.log("Spam prevention");if(this.items[e].votesLib>=this.items[e].topVote){this.items[e].topVote=this.items[e].votesLib,this.items[e].biasTowards="Liberal";var n=this.items[e];this.$store.dispatch("updateNewspaper",n)}console.log(this.user.lastVote)},voteModLib:function(t){var e=this.items.indexOf(t);if(""==this.user.lastVote[e]){this.items[e].votesModLib++,this.user.lastVote[e]="modLib";var s=this.items[e];this.$store.dispatch("updateNewspaper",s),this.$store.dispatch("updateUserVotes",this.user.lastVote)}else if("lib"==this.user.lastVote[e]){this.items[e].votesModLib++,this.items[e].votesLib--,this.user.lastVote[e]="modLib","Liberal"==this.items[e].biasTowards&&this.items[e].topVote--;var i=this.items[e];this.$store.dispatch("updateNewspaper",i),this.$store.dispatch("updateUserVotes",this.user.lastVote)}else if("Centrist"==this.user.lastVote[e]){this.items[e].votesModLib++,this.items[e].votesCentrist--,this.user.lastVote[e]="modLib","Centrist"==this.items[e].biasTowards&&this.items[e].topVote--;var o=this.items[e];this.$store.dispatch("updateNewspaper",o),this.$store.dispatch("updateUserVotes",this.user.lastVote)}else if("modRep"==this.user.lastVote[e]){this.items[e].votesModLib++,this.items[e].votesModRep--,this.user.lastVote[e]="modLib","Moderate Republican"==this.items[e].biasTowards&&this.items[e].topVote--;var a=this.items[e];this.$store.dispatch("updateNewspaper",a),this.$store.dispatch("updateUserVotes",this.user.lastVote)}else if("rep"==this.user.lastVote[e]){this.items[e].votesModLib++,this.items[e].votesRep--,this.user.lastVote[e]="modLib","Republican"==this.items[e].biasTowards&&this.items[e].topVote--;var r=this.items[e];this.$store.dispatch("updateNewspaper",r),this.$store.dispatch("updateUserVotes",this.user.lastVote)}else console.log("Spam prevention");if(this.items[e].votesModLib>=this.items[e].topVote){this.items[e].topVote=this.items[e].votesModLib,this.items[e].biasTowards="Moderate Liberal";var n=this.items[e];this.$store.dispatch("updateNewspaper",n)}console.log(this.user.lastVote)},voteCentrist:function(t){var e=this.items.indexOf(t);if(""==this.user.lastVote[e]){this.items[e].votesCentrist++,this.user.lastVote[e]="Centrist";var s=this.items[e];this.$store.dispatch("updateNewspaper",s),this.$store.dispatch("updateUserVotes",this.user.lastVote)}else if("lib"==this.user.lastVote[e]){this.items[e].votesCentrist++,this.items[e].votesLib--,this.user.lastVote[e]="Centrist","Liberal"==this.items[e].biasTowards&&this.items[e].topVote--;var i=this.items[e];this.$store.dispatch("updateNewspaper",i),this.$store.dispatch("updateUserVotes",this.user.lastVote)}else if("modLib"==this.user.lastVote[e]){this.items[e].votesCentrist++,this.items[e].votesModLib--,this.user.lastVote[e]="Centrist","Moderate Liberal"==this.items[e].biasTowards&&this.items[e].topVote--;var o=this.items[e];this.$store.dispatch("updateNewspaper",o),this.$store.dispatch("updateUserVotes",this.user.lastVote)}else if("modRep"==this.user.lastVote[e]){this.items[e].votesCentrist++,this.items[e].votesModRep--,this.user.lastVote[e]="Centrist","Moderate Republican"==this.items[e].biasTowards&&this.items[e].topVote--;var a=this.items[e];this.$store.dispatch("updateNewspaper",a),this.$store.dispatch("updateUserVotes",this.user.lastVote)}else if("rep"==this.user.lastVote[e]){this.items[e].votesCentrist++,this.items[e].votesRep--,this.user.lastVote[e]="Centrist","Republican"==this.items[e].biasTowards&&this.items[e].topVote--;var r=this.items[e];this.$store.dispatch("updateNewspaper",r),this.$store.dispatch("updateUserVotes",this.user.lastVote)}else console.log("Spam prevention");if(this.items[e].votesCentrist>=this.items[e].topVote){this.items[e].topVote=this.items[e].votesCentrist,this.items[e].biasTowards="Centrist";var n=this.items[e];this.$store.dispatch("updateNewspaper",n)}console.log(this.user.lastVote)},voteModRep:function(t){var e=this.items.indexOf(t);if(""==this.user.lastVote[e]){this.items[e].votesModRep++,this.user.lastVote[e]="modRep";var s=this.items[e];this.$store.dispatch("updateNewspaper",s),this.$store.dispatch("updateUserVotes",this.user.lastVote)}else if("lib"==this.user.lastVote[e]){this.items[e].votesModRep++,this.items[e].votesLib--,this.user.lastVote[e]="modRep","Liberal"==this.items[e].biasTowards&&this.items[e].topVote--;var i=this.items[e];this.$store.dispatch("updateNewspaper",i),this.$store.dispatch("updateUserVotes",this.user.lastVote)}else if("modLib"==this.user.lastVote[e]){this.items[e].votesModRep++,this.items[e].votesModLib--,this.user.lastVote[e]="modRep","Moderate Liberal"==this.items[e].biasTowards&&this.items[e].topVote--;var o=this.items[e];this.$store.dispatch("updateNewspaper",o),this.$store.dispatch("updateUserVotes",this.user.lastVote)}else if("Centrist"==this.user.lastVote[e]){this.items[e].votesModRep++,this.items[e].votesCentrist--,this.user.lastVote[e]="modRep","Centrist"==this.items[e].biasTowards&&this.items[e].topVote--;var a=this.items[e];this.$store.dispatch("updateNewspaper",a),this.$store.dispatch("updateUserVotes",this.user.lastVote)}else if("rep"==this.user.lastVote[e]){this.items[e].votesModRep++,this.items[e].votesRep--,this.user.lastVote[e]="modRep","Republican"==this.items[e].biasTowards&&this.items[e].topVote--;var r=this.items[e];this.$store.dispatch("updateNewspaper",r),this.$store.dispatch("updateUserVotes",this.user.lastVote)}else console.log("Spam prevention");if(this.items[e].votesModRep>=this.items[e].topVote){this.items[e].topVote=this.items[e].votesModRep,this.items[e].biasTowards="Moderate Republican";var n=this.items[e];this.$store.dispatch("updateNewspaper",n)}console.log(this.user.lastVote)},voteRep:function(t){var e=this.items.indexOf(t);if(""==this.user.lastVote[e]){this.items[e].votesRep++,this.user.lastVote[e]="rep";var s=this.items[e];this.$store.dispatch("updateNewspaper",s),this.$store.dispatch("updateUserVotes",this.user.lastVote)}else if("lib"==this.user.lastVote[e]){this.items[e].votesRep++,this.items[e].votesLib--,this.user.lastVote[e]="rep","Liberal"==this.items[e].biasTowards&&this.items[e].topVote--;var i=this.items[e];this.$store.dispatch("updateNewspaper",i),this.$store.dispatch("updateUserVotes",this.user.lastVote)}else if("modLib"==this.user.lastVote[e]){this.items[e].votesRep++,this.items[e].votesCentrist--,this.user.lastVote[e]="rep","Moderate Liberal"==this.items[e].biasTowards&&this.items[e].topVote--;var o=this.items[e];this.$store.dispatch("updateNewspaper",o),this.$store.dispatch("updateUserVotes",this.user.lastVote)}else if("Centrist"==this.user.lastVote[e]){this.items[e].votesRep++,this.items[e].votesModRep--,this.user.lastVote[e]="rep","Centrist"==this.items[e].biasTowards&&this.items[e].topVote--;var a=this.items[e];this.$store.dispatch("updateNewspaper",a),this.$store.dispatch("updateUserVotes",this.user.lastVote)}else if("modRep"==this.user.lastVote[e]){this.items[e].votesRep++,this.items[e].votesModRep--,this.user.lastVote[e]="rep","Moderate Liberal"==this.items[e].biasTowards&&this.items[e].topVote--;var r=this.items[e];this.$store.dispatch("updateNewspaper",r),this.$store.dispatch("updateUserVotes",this.user.lastVote)}else console.log("Spam prevention");if(this.items[e].votesRep>=this.items[e].topVote){this.items[e].topVote=this.items[e].votesRep,this.items[e].biasTowards="Republican";var n=this.items[e];this.$store.dispatch("updateNewspaper",n)}console.log(this.user.lastVote)}}},d={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("v-container",[s("div",[s("v-dialog",{attrs:{"max-width":"500px"},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[s("v-btn",{directives:[{name:"show",rawName:"v-show",value:null!==t.user,expression:"user !== null"}],staticClass:"mb-3",attrs:{slot:"activator",color:"primary",dark:""},slot:"activator"},[t._v("New Item")]),t._v(" "),s("v-card",[s("v-card-title",[s("span",{staticClass:"headline"},[t._v(t._s(t.formTitle))])]),t._v(" "),s("v-card-text",[s("v-container",{attrs:{"grid-list-md":""}},[s("v-layout",{attrs:{wrap:""}},[s("v-flex",{attrs:{xs12:"",sm6:"",md4:""}},[s("v-text-field",{attrs:{label:"Newspaper"},model:{value:t.editedItem.name,callback:function(e){t.$set(t.editedItem,"name",e)},expression:"editedItem.name"}}),t._v(" "),s("v-text-field",{attrs:{label:"URL"},model:{value:t.editedItem.url,callback:function(e){t.$set(t.editedItem,"url",e)},expression:"editedItem.url"}})],1)],1)],1)],1),t._v(" "),s("v-card-actions",[s("v-spacer"),t._v(" "),s("v-btn",{attrs:{color:"blue darken-1",flat:""},nativeOn:{click:function(e){return t.close(e)}}},[t._v("Cancel")]),t._v(" "),s("v-btn",{attrs:{color:"blue darken-1",flat:""},nativeOn:{click:function(e){return t.save(e)}}},[t._v("Save")])],1)],1)],1),t._v(" "),s("v-data-table",{staticClass:"elevation-1",attrs:{headers:t.headers,items:t.items,user:t.user,"hide-actions":""},scopedSlots:t._u([{key:"items",fn:function(e){return[s("td",[s("a",{attrs:{href:e.item.url,target:"_blank"}},[t._v(t._s(e.item.name))])]),t._v(" "),s("td",[s("v-flex",[s("v-btn",{attrs:{flat:"",icon:"",color:"blue",disabled:null==t.user||"lib"==t.user.lastVote[t.items.indexOf(e.item)]},on:{click:function(s){t.voteLib(e.item)}}},[s("v-icon",[t._v("web")])],1),t._v(" "),s("v-btn",{attrs:{flat:"",icon:"",color:"light-blue",disabled:null==t.user||"modLib"==t.user.lastVote[t.items.indexOf(e.item)]},on:{click:function(s){t.voteModLib(e.item)}}},[s("v-icon",[t._v("web")])],1),t._v(" "),s("v-btn",{attrs:{flat:"",icon:"",color:"purple",disabled:null==t.user||"Centrist"==t.user.lastVote[t.items.indexOf(e.item)]},on:{click:function(s){t.voteCentrist(e.item)}}},[s("v-icon",[t._v("web")])],1),t._v(" "),s("v-btn",{attrs:{flat:"",icon:"",color:"orange",disabled:null==t.user||"modRep"==t.user.lastVote[t.items.indexOf(e.item)]},on:{click:function(s){t.voteModRep(e.item)}}},[s("v-icon",[t._v("web")])],1),t._v(" "),s("v-btn",{attrs:{flat:"",icon:"",color:"red",disabled:null==t.user||"rep"==t.user.lastVote[t.items.indexOf(e.item)]},on:{click:function(s){t.voteRep(e.item)}}},[s("v-icon",[t._v("web")])],1),t._v(" "),s("td",{staticClass:"text-xs-left"},[t._v("Bias towards "+t._s(e.item.biasTowards)+" with "+t._s(e.item.topVote)+" votes")])],1)],1),t._v(" "),s("td",{staticClass:"text-xs-left"},[s("v-btn",{attrs:{flat:"",icon:"",color:"green",disabled:null==t.user||"up"==t.user.lastThumb[t.items.indexOf(e.item)]},on:{click:function(s){t.thumbUp(e.item)}}},[s("v-icon",[t._v("thumb_up")])],1),t._v(" "),s("v-btn",{attrs:{flat:"",icon:"",color:"deep-orange",disabled:null==t.user||"down"==t.user.lastThumb[t.items.indexOf(e.item)]},on:{click:function(s){t.thumbDown(e.item)}}},[s("v-icon",[t._v("thumb_down")])],1)],1),t._v(" "),s("td",{staticClass:"text-xs-left"},[t._v(t._s(e.item.thumbsUp)+" / "+t._s(e.item.thumbsDown))]),t._v(" "),s("td",{staticClass:"justify-center layout px-0"},[s("v-btn",{staticClass:"mx-0",attrs:{icon:"",disabled:null==t.user||!t.userIsCreator(e.item)},on:{click:function(s){t.editItem(e.item)}}},[s("v-icon",{attrs:{color:"teal"}},[t._v("edit")])],1),t._v(" "),s("v-btn",{staticClass:"mx-0",attrs:{icon:"",disabled:null==t.user||null!==t.user},on:{click:function(s){t.deleteItem(e.item)}}},[s("v-icon",{attrs:{color:"pink"}},[t._v("delete")])],1)],1)]}}])},[s("template",{slot:"no-data"},[s("v-btn",{attrs:{color:"primary"},on:{click:t.initialize}},[t._v("Reset")])],1)],2)],1)])},staticRenderFns:[]},p=s("VU/8")(u,d,!1,null,null,null).exports,m={data:function(){return{email:"",password:""}},computed:{user:function(){return this.$store.getters.user},userVotes:function(){return this.$store.getters.userVotes}},watch:{user:function(t){null!==t&&void 0!==t&&this.$router.push("/")}},methods:{onSignin:function(){this.$store.dispatch("signUserIn",{email:this.email,password:this.password})}}},c={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("v-container",[s("v-layout",{attrs:{row:""}},[s("v-flex",{attrs:{xs12:"",sm6:"","offset-sm3":""}},[s("v-card",[s("v-card-text",[s("v-container",[s("form",{on:{submit:function(e){return e.preventDefault(),t.onSignin(e)}}},[s("v-layout",{attrs:{row:""}},[s("v-flex",{attrs:{xs12:""}},[s("v-text-field",{attrs:{name:"email",label:"Mail",id:"email",type:"email",required:""},model:{value:t.email,callback:function(e){t.email=e},expression:"email"}})],1)],1),t._v(" "),s("v-layout",{attrs:{row:""}},[s("v-flex",{attrs:{xs12:""}},[s("v-text-field",{attrs:{name:"password",label:"Password",id:"password",type:"password",required:""},model:{value:t.password,callback:function(e){t.password=e},expression:"password"}})],1)],1),t._v(" "),s("v-layout",{attrs:{row:""}},[s("v-flex",{attrs:{xs12:""}},[s("v-btn",{attrs:{type:"submit"}},[t._v("Sign In")])],1)],1)],1)])],1)],1)],1)],1)],1)},staticRenderFns:[]},v=s("VU/8")(m,c,!1,null,null,null).exports,b={data:function(){return{email:"",password:""}},computed:{comparePasswords:function(){return this.password!==this.confirmPassword?"Passwords do not match. Try again.":""},user:function(){return this.$store.getters.user}},watch:{user:function(t){null!==t&&void 0!==t&&this.$router.push("/")}},methods:{onSignup:function(){this.$store.dispatch("signUserUp",{email:this.email,password:this.password})}}},f={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("v-container",[s("v-layout",{attrs:{row:""}},[s("v-flex",{attrs:{xs12:"",sm6:"","offset-sm3":""}},[s("v-card",[s("v-card-text",[s("v-container",[s("form",{on:{submit:function(e){return e.preventDefault(),t.onSignup(e)}}},[s("v-layout",{attrs:{row:""}},[s("v-flex",{attrs:{xs12:""}},[s("v-text-field",{attrs:{name:"email",label:"Mail",id:"email",type:"email",required:""},model:{value:t.email,callback:function(e){t.email=e},expression:"email"}})],1)],1),t._v(" "),s("v-layout",{attrs:{row:""}},[s("v-flex",{attrs:{xs12:""}},[s("v-text-field",{attrs:{name:"password",label:"Password",id:"password",type:"password",required:""},model:{value:t.password,callback:function(e){t.password=e},expression:"password"}})],1)],1),t._v(" "),s("v-layout",{attrs:{row:""}},[s("v-flex",{attrs:{xs12:""}},[s("v-btn",{attrs:{type:"submit"}},[t._v("Sign Up")])],1)],1)],1)])],1)],1)],1)],1)],1)},staticRenderFns:[]},w=s("VU/8")(b,f,!1,null,null,null).exports,V={render:function(){this.$createElement;this._self._c;return this._m(0)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",[e("ul",[this._v("\n    yooo\n  ")])])}]},g=s("VU/8")({data:function(){return{}},computed:{user:function(){return this.$store.getters.user},items:function(){return this.$store.getters.loadNewspapers}}},V,!1,null,null,null).exports;i.a.use(n.a);var x=new n.a({routes:[{path:"/",name:"Home",component:p},{path:"/Signup",name:"Signup",component:w},{path:"/Signin",name:"Signin",component:v},{path:"/Profile",name:"Profile",component:g}],mode:"history"}),$=s("3EgV"),_=s.n($),T=(s("7zck"),s("NYxO")),U=s("Sazm");i.a.use(T.a);var N=new T.a.Store({state:{loadedNewspapers:[],user:null},mutations:{setUserVotes:function(t,e){t.user.lastVote=e},setUserThumbs:function(t,e){t.user.lastThumb=e},addNewspaper:function(t,e){t.loadedNewspapers.push(e)},updateNewspaper:function(t,e){t.loadedNewspapers.splice(e.index,1,e)},setUser:function(t,e){t.user=e},setLoadedNewspapers:function(t,e){t.loadedNewspapers=e}},actions:{updateUserVotes:function(t,e){var s=t.commit,i=t.getters.user;U.database().ref("/users/"+i.id).child("/votes/").set(e).then(function(t){console.log(t),s("setUserVotes",e)}).catch(function(t){console.log(t)})},updateUserThumbs:function(t,e){var s=t.commit,i=t.getters.user;U.database().ref("/users/"+i.id).child("/thumbs/").set(e).then(function(t){console.log(t),s("setUserThumbs",e)}).catch(function(t){console.log(t)})},fetchUserData:function(t){var e=t.commit,s=t.getters,i=[],o=[];U.database().ref("/users/"+s.user.id+"/thumbs/").once("value").then(function(t){var a=t.val();for(var r in a)console.log(a[r]),i.push(a[r]);U.database().ref("/users/"+s.user.id+"/votes/").once("value").then(function(t){var a=t.val();for(var r in a)console.log(a[r]),o.push(a[r]);var n={id:s.user.id,lastVote:o,lastThumb:i};e("setUser",n)})}).catch(function(t){console.log(t)})},loadNewspapers:function(t,e){var s=t.commit;U.database().ref("newspapers").once("value").then(function(t){var e=[],i=t.val();for(var o in i)console.log(o),e.push({id:o,creatorID:i[o].creatorID,name:i[o].name,url:i[o].url,votesLib:i[o].votesLib,votesModLib:i[o].votesModLib,votesCentrist:i[o].votesCentrist,votesModRep:i[o].votesModRep,votesRep:i[o].votesRep,topVote:i[o].topVote,biasTowards:i[o].biasTowards,thumbsUp:i[o].thumbsUp,thumbsDown:i[o].thumbsDown,index:i[o].index});s("setLoadedNewspapers",e)}).catch(function(t){console.log(t)})},addNewspaper:function(t,e){var s=t.commit,i=e;console.log("Added to store: "+i.name),console.log("Bias towards: "+i.biasTowards),U.database().ref("newspapers").push(i).then(function(t){console.log(t),s("addNewspaper",i)}).catch(function(t){console.log(t)})},updateNewspaper:function(t,e){var s=t.commit;U.database().ref("newspapers").child(e.id).update(e).then(function(t){console.log(t),s("updateNewspaper",e)}).catch(function(t){console.log(t)})},signUserUp:function(t,e){var s=t.commit;U.auth().createUserWithEmailAndPassword(e.email,e.password).then(function(t){var e={id:t.uid,lastThumb:[],lastVote:[]};s("setUser",e)}).catch(function(t){console.log(t)})},signUserIn:function(t,e){var s=t.commit;t.getters;U.auth().signInWithEmailAndPassword(e.email,e.password).then(function(t){var e={id:t.uid,lastThumb:[],lastVote:[]};s("setUser",e)}).catch(function(t){console.log(t)})},autoSignIn:function(t,e){(0,t.commit)("setUser",{id:e.uid,lastThumb:[],lastVote:[]})},logout:function(t){var e=t.commit;U.auth().signOut(),e("setUser",null)}},getters:{loadedNewspapers:function(t){return t.loadedNewspapers},user:function(t){return t.user}}});i.a.use(_.a),i.a.config.productionTip=!1,new i.a({el:"#app",router:x,store:N,components:{App:r},template:"<App/>",created:function(){var t=this;U.initializeApp({apiKey:"AIzaSyBPBc4IpCF-z5H72Z4guKhCgiRTxY8wWMQ",authDomain:"media-bias-o-meter.firebaseapp.com",databaseURL:"https://media-bias-o-meter.firebaseio.com",projectId:"media-bias-o-meter",storageBucket:"media-bias-o-meter.appspot.com"}),U.auth().onAuthStateChanged(function(e){console.log("hello"),e&&(t.$store.dispatch("autoSignIn",e),t.$store.dispatch("fetchUserData"))}),this.$store.dispatch("loadNewspapers")}})}},["NHnr"]);
//# sourceMappingURL=app.c6a2d4dbb196c4d56e5f.js.map